<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Metas -->
    <title>curtains.js | Documentation | ShaderPass class</title>
    <meta name="description" content="curtains.js is a lightweight vanilla WebGL javascript library that turns HTML DOM elements into interactive textured planes.">
    <link rel="canonical" href="https://www.curtainsjs.com/shader-pass-class.html">

    <!-- Facebook OG -->
    <meta property="og:title" content="curtains.js | Documentation | ShaderPass class">
    <meta property="og:type" content="website">
    <meta property="og:description" content="curtains.js is a lightweight vanilla WebGL javascript library that turns HTML DOM elements into interactive textured planes.">
    <meta property="og:url" content="https://www.curtainsjs.com/shader-pass-class.html">
    <meta property="og:image" content="https://www.curtainsjs.com/images/curtains-js-logo.jpg">

    <!-- Twitter card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@webdesign_ml">
    <meta name="twitter:creator" content="@webdesign_ml">
    <meta name="twitter:title" content="curtains.js | Documentation | ShaderPass class">
    <meta name="twitter:description" content="curtains.js is a lightweight vanilla WebGL javascript library that turns HTML DOM elements into interactive textured planes.">
    <meta name="twitter:image" content="https://www.curtainsjs.com/images/curtains-js-logo.jpg">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicons/favicon-16x16.png">
    <link rel="manifest" href="images/favicons/site.webmanifest">
    <link rel="mask-icon" href="images/favicons/safari-pinned-tab.svg" color="#202340">
    <link rel="shortcut icon" href="images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#202340">
    <meta name="msapplication-config" content="images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#202340">

    <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Abril+Fatface" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" type="text/css">
</head>
<body>
<div id="page-wrap">

    <div id="canvas"></div>

    <div id="content">

        <header id="header">
            <div class="wrapper">
                <div id="header-wrapper" class="flex-wrapper">
                    <div id="header-title">
                        <a href="/" title="Home">curtains.js</a>
                    </div>
                    <nav id="main-menu">
                        <ul class="flex-wrapper">
                            <li>
                                <a href="get-started.html">Get started</a>
                            </li>
                            <li>
                                <a href="documentation.html" class="active">Docs</a>
                            </li>
                            <li>
                                <a href="download.html">Download</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>

        <section class="content-section api-section">

            <nav id="api-menu-nav">
                <ul id="api-menu">
                    <li>
                        <div class="api-menu-top-link">
                            <a href="curtains-class.html">Curtains</a>
                        </div>

                        <div class="api-submenu-content">
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#basic-usage">Basic usage</a>
                            </div>
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#properties">Properties</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="curtains-class.html#alpha">alpha</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#antialias">antialias</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#container">container</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#gl-canvas">glCanvas</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#gl">gl</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#pixel-ratio">pixelRatio</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#planes">planes</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#premultiplied-alpha">premultipliedAlpha</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#production-mode">productionMode</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#render-targets">renderTargets</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#shader-passes">shaderPasses</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#methods">Methods</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="curtains-class.html#add-plane">addPlane</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#add-render-target">addRenderTarget</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#add-shader-pass">addShaderPass</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#disable-drawing">disableDrawing</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#dispose">dispose</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#enable-drawing">enableDrawing</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#get-bounding-rect">getBoundingRect</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#get-scroll-deltas">getScrollDeltas</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#get-scroll-values">getScrollValues</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#need-render">needRender</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#remove-plane">removePlane</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#remove-render-target">removeRenderTarget</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#remove-shader-pass">removeShaderPass</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#render">render</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#resize">resize</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#restore-context">restoreContext</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#set-pixel-ratio">setPixelRatio</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#update-scroll-values">updateScrollValues</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#events">Events</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="curtains-class.html#on-after-resize">onAfterResize</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#on-context-lost">onContextLost</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#on-context-restored">onContextRestored</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#on-error">onError</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#on-render">onRender</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#on-scroll">onScroll</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <div class="api-menu-top-link">
                            <a href="plane-class.html">Plane</a>
                        </div>

                        <div class="api-submenu-content">
                            <div class="api-submenu-title">
                                <a href="plane-class.html#basic-usage">Basic usage</a>
                            </div>
                            <div class="api-submenu-title">
                                <a href="plane-class.html#properties">Properties</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="plane-class.html#always-draw">alwaysDraw</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#autoload-sources">autoloadSources</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#canvases">canvases</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#cross-origin">crossOrigin</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#cull-face">cullFace</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#draw-check-margins">drawCheckMargins</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#html-element">htmlElement</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#images">images</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#index">index</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#quaternion">quaternion</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#relative-translation">relativeTranslation</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#rotation">rotation</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#scale">scale</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#share-program">shareProgram</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#target">target</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#textures">textures</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#transform-origin">transformOrigin</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#uniforms">uniforms</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#user-data">userData</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#uuid">uuid</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#videos">videos</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#visible">visible</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#watch-scroll">watchScroll</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="plane-class.html#methods">Methods</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="plane-class.html#create-texture">createTexture</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#enable-depth-test">enableDepthTest</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#get-bounding-rect">getBoundingRect</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#get-webgl-bounding-rect">getWebGLBoundingRect</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#is-drawn">isDrawn</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-canvas">loadCanvas</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-canvases">loadCanvases</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-image">loadImage</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-images">loadImages</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-source">loadSource</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-sources">loadSources</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-video">loadVideo</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-videos">loadVideos</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#mouse-to-plane-coords">mouseToPlaneCoords</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#move-to-front">moveToFront</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#plane-resize">planeResize</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#play-videos">playVideos</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#reset-plane">resetPlane</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-perspective">setPerspective</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-relative-position">setRelativePosition</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-render-target">setRenderTarget</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-rotation">setRotation</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-scale">setScale</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-transform-origin">setTransformOrigin</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#update-position">updatePosition</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#update-scroll-position">updateScrollPosition</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#events">Events</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="plane-class.html#on-after-render">onAfterRender</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-after-resize">onAfterResize</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-leave-view">onLeaveView</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-loading">onLoading</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-ready">onReady</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-re-enter-view">onReEnterView</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-render">onRender</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="active">
                        <div class="api-menu-top-link">
                            <a href="shader-pass-class.html">ShaderPass</a>
                        </div>

                        <div class="api-submenu-content">
                            <div class="api-submenu-title">
                                <a href="shader-pass-class.html#basic-usage">Basic usage</a>
                            </div>
                            <div class="api-submenu-title">
                                <a href="shader-pass-class.html#properties">Properties</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="shader-pass-class.html#canvases">canvases</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#cross-origin">crossOrigin</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#html-element">htmlElement</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#images">images</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#index">index</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#target">target</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#textures">textures</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#uniforms">uniforms</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#user-data">userData</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#uuid">uuid</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#videos">videos</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="shader-pass-class.html#methods">Methods</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="shader-pass-class.html#create-texture">createTexture</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#get-bounding-rect">getBoundingRect</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#load-canvas">loadCanvas</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#load-canvases">loadCanvases</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#load-image">loadImage</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#load-images">loadImages</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#load-source">loadSource</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#load-sources">loadSources</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#load-video">loadVideo</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#load-videos">loadVideos</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#mouse-to-plane-coords">mouseToPlaneCoords</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#play-videos">playVideos</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="shader-pass-class.html#events">Events</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="shader-pass-class.html#on-after-render">onAfterRender</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#on-after-resize">onAfterResize</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#on-loading">onLoading</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#on-ready">onReady</a>
                                </li>
                                <li>
                                    <a href="shader-pass-class.html#on-render">onRender</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <div class="api-menu-top-link">
                            <a href="render-target-class.html">RenderTarget</a>
                        </div>
                        <div class="api-submenu-content">
                            <div class="api-submenu-title">
                                <a href="render-target-class.html#basic-usage">Basic usage</a>
                            </div>
                            <div class="api-submenu-title">
                                <a href="render-target-class.html#properties">Properties</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="render-target-class.html#index">index</a>
                                </li>
                                <li>
                                    <a href="render-target-class.html#textures">textures</a>
                                </li>
                                <li>
                                    <a href="render-target-class.html#user-data">userData</a>
                                </li>
                                <li>
                                    <a href="render-target-class.html#uuid">uuid</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <div class="api-menu-top-link">
                            <a href="texture-class.html">Texture</a>
                        </div>
                        <div class="api-submenu-content">
                            <div class="api-submenu-title">
                                <a href="texture-class.html#basic-usage">Basic usage</a>
                            </div>
                            <div class="api-submenu-title">
                                <a href="texture-class.html#properties">Properties</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="texture-class.html#index">index</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#scale">scale</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#should-update">shouldUpdate</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#source">source</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#type">type</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#user-data">userData</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#uuid">uuid</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="texture-class.html#methods">Methods</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="texture-class.html#need-update">needUpdate</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#resize">resize</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#set-from-texture">setFromTexture</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#set-scale">setScale</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#set-source">setSource</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>

            <div id="api-content">

                <div class="api-content-inner">
                    <div class="inner-section">
                        <h1>ShaderPass class</h1>
                        <h2 id="basic-usage">Basic usage</h2>
                        <p>
                            Shader passes offers the possibility to add <strong>post-processing</strong> to either a bunch of planes or your whole scene. Think of it as an additional plane that would have the size of your WebGL canvas and that would render a set of planes into a texture and draw it. You'd then be able to manipulate that texture in your fragment shader.
                        </p>
                        <p>
                            Like the <a href="plane-class.html">Plane</a> class it inherits from the BasePlane class, which is a class that just sets up the WebGL (buffers and attributes) and sources loading parts of a plane.<br />
                            ShaderPass <strong>extends</strong> the BasePlane class by handling the creation of a frame buffer object and the creation of a render texture.
                        </p>
                        <p class="api-item-examples">
                            Please note that render targets (and therefore shader passes) disable the WebGL context default antialiasing. If you use them, you should set the <a href="curtains-class.html#curtains-init-parameters">antialias Curtains property</a> to false when initiating your context.<br />
                            You might then want to add an extra antialiasing pass, like FXAA or MSAA. See the <a href="examples/post-processing-transform-origin/index.html" title="Post processing scrolling wheel with custom transform origin" target="_blank">Post processing scrolling wheel with custom transform origin</a> for an example of how to add a FXAA pass.
                        </p>
                        <h3>Creation</h3>
                        <p>
                            To create a shader pass that will be applied to the whole scene, you will have to use the <a href="curtains-class.html#add-shader-pass">addShaderPass</a> method of your <a href="curtains-class.html">Curtains</a> class object:
                        </p>

                        <div class="code">

                            <div class="code-block">
                                <div class="code-comment">
                                    // "canvas" is the ID of our HTML container element
                                </div>
                                <div>
                                    <span class="code-var">var</span> curtains = <span class="code-var">new</span> <span class="code-tag">Curtains</span>({<div class="code-indent"><span class="code-property">container</span>: <span class="code-string">"canvas"</span></div>})<span class="code-var">;</span>
                                </div>
                            </div>

                            <div>
                                <span class="code-var">var</span> shaderPass = curtains.<span class="code-tag">addShaderPass</span>()<span class="code-var">;</span>
                            </div>
                        </div>


                        <h3>Parameters</h3>
                        <p>
                            The code above will create a basic shader pass but you won't be able to do much with it. The <a href="curtains-class.html#add-shader-pass">addShaderPass</a> method has a parameter in which you can pass all the options you need:
                        </p>

                        <div class="code">

                            <div class="code-block">
                                <div class="code-comment">
                                    // "canvas" is the ID of our HTML container element
                                </div>
                                <div>
                                    <span class="code-var">var</span> curtains = <span class="code-var">new</span> <span class="code-tag">Curtains</span>({<div class="code-indent"><span class="code-property">container</span>: <span class="code-string">"canvas"</span></div>})<span class="code-var">;</span>
                                </div>
                            </div>

                            <div class="code-block">
                                <div>
                                    <span class="code-var">var</span> params = {
                                </div>
                                <div class="code-indent">
                                    <div>
                                        <span class="code-property">vertexShaderID</span>: <span class="code-string">"my-shader-pass-vs"</span><span class="code-var">,</span> <span class="code-comment">// ID of your vertex shader script tag</span>
                                    </div>
                                    <div>
                                        <span class="code-property">fragmentShaderID</span>: <span class="code-string">"my-shader-pass-fs"</span><span class="code-var">,</span> <span class="code-comment">// ID of your fragment shader script tag</span>
                                    </div>
                                    <div>
                                        <span class="code-property">uniforms</span>: { <span class="code-comment">// uniforms are what will allow you to interact with your shader pass</span>
                                    </div>
                                    <div class="code-indent">
                                        <div>
                                            <span class="code-property">time</span>: {
                                        </div>
                                        <div class="code-indent">
                                            <div>
                                                <span class="code-property">name</span>: <span class="code-string">"uTime"</span><span class="code-var">,</span> <span class="code-comment">// uniform name that will be passed to our shaders</span>
                                            </div>
                                            <div>
                                                <span class="code-property">type</span>: <span class="code-string">"1f"</span><span class="code-var">,</span> <span class="code-comment">// this means our uniform is a float</span>
                                            </div>
                                            <div>
                                                <span class="code-property">value</span>: <span class="code-number">0</span><span class="code-var">,</span> <span class="code-comment">// initial value of the uniform</span>
                                            </div>
                                        </div>
                                        <div>
                                            }<span class="code-var">,</span>
                                        </div>
                                    </div>
                                    <div>
                                        }<span class="code-var">,</span>
                                    </div>
                                </div>
                                <div>
                                    }<span class="code-var">;</span>
                                </div>
                            </div>

                            <div>
                                <span class="code-var">var</span> shaderPass = curtains.<span class="code-tag">addShaderPass</span>(params)<span class="code-var">;</span>
                            </div>
                        </div>

                        <h3>Using with a render target</h3>
                        <p>If you want to apply your shader pass to just a set of planes instead of your whole scene, you'll have to pass a RenderTarget element as a parameter. See <a href="render-target-class.html#assigning-render-target-to-shader-pass">Assigning a RenderTarget to a ShaderPass</a>.</p>

                        <p>
                            You can also check the list of all the addShaderPass <a href="curtains-class.html#add-shader-pass-parameters">possible parameters</a> to know more.
                        </p>

                        <h3>Shaders</h3>
                        <p>
                            Shader passes uses slightly different vertex and fragment shaders than the <a href="plane-class.html">Plane</a> objects.
                        </p>
                        <h3>Vertex shader</h3>
                        <p>
                            Since shader passes does not have projection and model view matrices, the default vertex shader is extremely simple (and optional).<br />
                            If you add a new texture to your shader pass, do not forget to handle its matrix in this vertex shader.
                        </p>

                        <div class="code">
                            <div class="code-block">
                                precision mediump float<span class="code-var">;</span>
                            </div>
                            <div class="code-block">
                                <div class="code-comment">
                                    // those are the mandatory attributes that the lib sets
                                </div>
                                <div>
                                    <span class="code-var">attribute</span> <span class="code-tag">vec3</span> aVertexPosition<span class="code-var">;</span>
                                </div>
                                <div>
                                    <span class="code-var">attribute</span> <span class="code-tag">vec2</span> aTextureCoord<span class="code-var">;</span>
                                </div>
                            </div>

                            <div class="code-block">
                                <div class="code-comment">
                                    // pass your vertex and texture coords to the fragment shader
                                </div>
                                <div>
                                    <span class="code-var">varying</span> <span class="code-tag">vec3</span> vVertexPosition<span class="code-var">;</span>
                                </div>
                                <div>
                                    <span class="code-var">varying</span> <span class="code-tag">vec2</span> vTextureCoord<span class="code-var">;</span>
                                </div>
                            </div>

                            <div>
                                <span class="code-var">void</span> main() {
                            </div>

                            <div class="code-indent">

                                <div class="code-block">
                                    gl_Position = <span class="code-tag">vec4</span>(aVertexPosition<span class="code-var">,</span> <span class="code-number">1.0</span>)<span class="code-var">;</span>
                                </div>

                                <div class="code-comment">
                                    // set the varyings
                                </div>
                                <div class="code-comment">
                                    // use our aTextureCoord attributes as texture coords in our fragment shader
                                </div>
                                <div>
                                    vTextureCoord = aTextureCoord<span class="code-var">;</span>
                                </div>
                                <div>
                                    vVertexPosition = aVertexPosition<span class="code-var">;</span>
                                </div>
                            </div>

                            <div>
                                }
                            </div>
                        </div>

                        <h3>Fragment shader</h3>
                        <p>
                            The ShaderPass object automatically creates a texture holding your shader pass FBO content upon creation. You will have to display that texture to display your shader pass content. If you want to apply any post processing effect, this will be by manipulating this texture.<br />
                            This texture sampler name is <strong>uRenderTexture</strong>.
                        </p>

                        <div class="code">
                            <div class="code-block">
                                precision mediump float<span class="code-var">;</span>
                            </div>
                            <div class="code-block">
                                <div class="code-comment">
                                    // get our varyings
                                </div>
                                <div>
                                    <span class="code-var">varying</span> <span class="code-tag">vec3</span> vVertexPosition<span class="code-var">;</span>
                                </div>
                                <div>
                                    <span class="code-var">varying</span> <span class="code-tag">vec2</span> vTextureCoord<span class="code-var">;</span>
                                </div>
                            </div>

                            <div class="code-block">
                                <div class="code-comment">
                                    // our render texture
                                </div>
                                <div>
                                    <span class="code-var">uniform</span> <span class="code-tag">sampler2D</span> uRenderTexture<span class="code-var">;</span>
                                </div>
                            </div>

                            <div>
                                <div>
                                    <span class="code-var">void</span> main() {
                                </div>

                                <div class="code-indent">

                                    <div class="code-comment">
                                        // display our render texture, which contains our shader pass frame buffer object content
                                    </div>
                                    <div>
                                        gl_FragColor = <span class="code-tag">texture2D</span>(uRenderTexture<span class="code-var">,</span> vTextureCoord)<span class="code-var">;</span>
                                    </div>
                                </div>

                                <div>
                                    }
                                </div>
                            </div>
                        </div>

                        <h2 id="properties">Properties</h2>
                        <ul>
                            <li id="canvases">
                                <p>
                                    <strong>canvases</strong> (array): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    An array containing all the canvases loaded via the load methods into the shader pass.
                                </p>
                            </li>
                            <li id="cross-origin">
                                <p>
                                    <strong>crossOrigin</strong> (string): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    The cross origin process used to load the medias.
                                </p>
                            </li>
                            <li id="html-element">
                                <p>
                                    <strong>htmlElement</strong> (HTML element): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    The HTML element used to create your shader passwhich is your <a href="curtains-class.html#container">Curtains wrapper container</a>.
                                </p>
                            </li>
                            <li id="images">
                                <p>
                                    <strong>images</strong> (array): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    An array containing all the images loaded via the load methods into the shader pass.
                                </p>
                            </li>
                            <li id="index">
                                <p>
                                    <strong>index</strong> (integer): <span class="api-item-version">v3.0</span> <span class="api-item-warning">read only</span>
                                </p>
                                <p>
                                    The index of your shader pass in the <a href="curtains-class.html#shader-passes">Curtains shaderPasses array</a>.
                                </p>
                            </li>
                            <li id="target">
                                <p>
                                    <strong>target</strong> (renderTarget): <span class="api-item-version">v5.0</span>
                                </p>
                                <p>
                                    The render target used to render the shader pass.
                                </p>
                            </li>
                            <li id="textures">
                                <p>
                                    <strong>textures</strong> (array): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    An array containing all the shader pass' <a href="texture-class.html">Textures</a> already created.
                                </p>
                            </li>
                            <li id="uniforms">
                                <p>
                                    <strong>uniforms</strong> (object): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    An object containing all the uniforms you passed as parameters.<br />
                                    You can update your uniform by modifying its value property.
                                </p>
                            </li>
                            <li id="user-data">
                                <p>
                                    <strong>userData</strong> (object): <span class="api-item-version">v4.2</span>
                                </p>
                                <p>
                                    An empty object to store any additional data or custom properties into your shader pass.
                                </p>
                            </li>
                            <li id="uuid">
                                <p>
                                    <strong>uuid</strong> (string): <span class="api-item-version">v6.0</span><span class="api-item-warning">read only</span>
                                </p>
                                <p>
                                    The shader pass's unique identifier.
                                </p>
                            </li>
                            <li id="videos">
                                <p>
                                    <strong>videos</strong> (array): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    An array containing all the videos loaded via the load methods into the shader pass.
                                </p>
                            </li>
                        </ul>

                        <h2 id="methods">Methods</h2>
                        <ul>
                            <li id="create-texture">
                                <p>
                                    <strong>createTexture</strong>(params): <span class="api-item-version">v2.0</span><span class="api-item-version api-item-version-update">updated in v5.1</span>
                                </p>
                                <p>
                                    This function will create a new <a href="texture-class.html">Texture</a> and add it to our Plane.<br />
                                    The newly created texture will be returned.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            params
                                        </span>
                                        <span class="api-item-parameter-type">
                                            object, optionnal
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            an object containing the texture parameters:
                                        </span>

                                        <ul id="create-texture-parameters" class="api-item-parameters-inner-list">
                                            <li>
												<span class="api-item-parameter-label">
													sampler
												</span>
                                                <span class="api-item-parameter-type">
													string, optionnal
												</span>
                                                <span class="api-item-parameter-desc">
													a string to set the name of your sampler uniform in your shader. Will also impact the texture matrix uniform name. If not specified, will name your sampler "uSampler" + index of this texture in your plane.
												</span>
                                            </li>
                                            <li>
												<span class="api-item-parameter-label">
													fromTexture
												</span>
                                                <span class="api-item-parameter-type">
                                                    <a href="texture-class.html">Texture</a> object, optionnal
												</span>
                                                <span class="api-item-parameter-desc">
													an already existing texture to copy into your new texture. Similar to the Texture class' <a href="texture-class.html#set-from-texture">setFromTexture()</a> method.
												</span>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                                <p>
                                    <strong>returns:</strong> the newly created <a href="texture-class.html">Texture</a> if successful.
                                </p>
                            </li>

                            <li id="get-bounding-rect">
                                <p>
                                    <strong>getBoundingRect</strong>(): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    Useful to get our <a href="curtains-class.html#container">container</a> HTML element bounding rectangle without causing a reflow/layout repaint. Be careful as the values are relative to your <a href="curtains-class.html#pixel-ratio">Curtains pixelRatio</a> value.
                                </p>
                                <p>
                                    <strong>returns:</strong> an object containing the container HTML element width, height, top and left positions.
                                </p>
                            </li>

                            <li id="load-canvas">
                                <p>
                                    <strong>loadCanvas</strong>(canvasElement): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function takes a canvas HTML element, creates a <a href="texture-class.html">Texture</a> using it and loads it into your shader pass.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            canvasElement
                                        </span>
                                        <span class="api-item-parameter-type">
                                            HTML canvas element
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            a HTML canvas element to load into your shader pass.
                                        </span>
                                    </li>
                                </ul>
                            </li>

                            <li id="load-canvases">
                                <p>
                                    <strong>loadCanvases</strong>(canvasElements): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function takes an array of canvas HTML elements and creates a <a href="texture-class.html">Texture</a> for each of them.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            canvasElements
                                        </span>
                                        <span class="api-item-parameter-type">
                                            array or collection of HTML canvas elements
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            an array or collection of HTML canvas elements to load into your shader pass.
                                        </span>
                                    </li>
                                </ul>
                            </li>

                            <li id="load-image">
                                <p>
                                    <strong>loadImage</strong>(imageElement): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function takes an image HTML element, creates a <a href="texture-class.html">Texture</a> using it and loads it into your shader pass.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            imageElement
                                        </span>
                                        <span class="api-item-parameter-type">
                                            HTML image element
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            a HTML image element to load into your shader pass.
                                        </span>
                                    </li>
                                </ul>
                                <p class="api-item-examples">
                                    <strong>Examples:</strong> used in <a href="examples/post-processing-displacement/index.html" title="Post processing displacement effect" target="_blank">Post processing displacement effect</a> example.
                                </p>
                            </li>

                            <li id="load-images">
                                <p>
                                    <strong>loadImages</strong>(imageElements): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function takes an array of image HTML elements and creates a <a href="texture-class.html">Texture</a> for each of them.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            imageElements
                                        </span>
                                        <span class="api-item-parameter-type">
                                            array or collection of HTML image elements
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            an array or collection of HTML image elements to load into your shader pass.
                                        </span>
                                    </li>
                                </ul>
                            </li>

                            <li id="load-source">
                                <p>
                                    <strong>loadSource</strong>(sourceElement): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function takes a source element, creates a <a href="texture-class.html">Texture</a> using it and loads it into your shader pass.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            sourceElement
                                        </span>
                                        <span class="api-item-parameter-type">
                                            either image, canvas or video HTML element
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            an image, canvas or video HTML element to load into your shader pass.
                                        </span>
                                    </li>
                                </ul>
                            </li>

                            <li id="load-sources">
                                <p>
                                    <strong>loadSources</strong>(sourceElements): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function takes an array of source elements, creates <a href="texture-class.html">Textures</a> using them and loads them into your shader pass.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            sourceElements
                                        </span>
                                        <span class="api-item-parameter-type">
                                            array or collection of either images, canvased or videos HTML elements
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            an array of image, canvas or video HTML elements to load into your shader pass.
                                        </span>
                                    </li>
                                </ul>
                            </li>

                            <li id="load-video">
                                <p>
                                    <strong>loadVideo</strong>(videoElement): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function takes a video HTML element, creates a <a href="texture-class.html">Texture</a> using it and loads it into your shader pass.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            videoElement
                                        </span>
                                        <span class="api-item-parameter-type">
                                            HTML video element
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            a HTML video element to load into your shader pass.
                                        </span>
                                    </li>
                                </ul>
                            </li>

                            <li id="load-videos">
                                <p>
                                    <strong>loadVideos</strong>(videoElements): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function takes an array of video HTML elements and creates a <a href="texture-class.html">Texture</a> for each of them.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            videoElements
                                        </span>
                                        <span class="api-item-parameter-type">
                                            array or collection of HTML video elements
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            an array or collection of HTML video elements to load into your shader pass.
                                        </span>
                                    </li>
                                </ul>
                            </li>

                            <li id="mouse-to-plane-coords">
                                <p>
                                    <strong>mouseToPlaneCoords</strong>(xMousePosition, yMousePosition): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    Get the mouse coordinates relative to the shader pass clip space values. Use it to send to a uniform and interact with your shader pass. A shader pass coordinates ranges from (-1, 1) in the top left corner to (1, -1) in the bottom right corner, which means the values along the Y axis are inverted.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            xMousePosition
                                        </span>
                                        <span class="api-item-parameter-type">
                                            float
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            mouse event clientX value.
                                        </span>
                                    </li>
                                    <li>
                                        <span class="api-item-parameter-label">
                                            yMousePosition
                                        </span>
                                        <span class="api-item-parameter-type">
                                            float
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            mouse event clientX value.
                                        </span>
                                    </li>
                                </ul>
                            </li>

                            <li id="play-videos">
                                <p>
                                    <strong>playVideos</strong>(): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function will automatically start all of your shader pass videos playback. If you are not calling it after a user action it might not work on mobile.
                                </p>
                            </li>

                        </ul>

                        <h2 id="events">Events</h2>
                        <ul>
                            <li id="on-after-render">
                                <p>
                                    <strong>onAfterRender</strong>(): <span class="api-item-version">v5.0</span>
                                </p>
                                <p>
                                    This function will be called just after your shader pass has been drawn.
                                </p>
                                <p>
                                    <strong>returns:</strong> your Plane object, allowing it to be chainable.
                                </p>
                            </li>
                            <li id="on-after-resize">
                                <p>
                                    <strong>onAfterResize</strong>(): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function will be called each time your container has been resized, after everything has been updated.
                                </p>
                                <p>
                                    <strong>returns:</strong> your ShaderPass object, allowing it to be chainable.
                                </p>
                            </li>
                            <li id="on-loading">
                                <p>
                                    <strong>onLoading</strong>(texture): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function will be fired each time a source element (either an image, a canvas or a video) of the plane has been loaded and is ready to display. You'll have access here to the newly created texture. Useful to handle a loader or manipulate the texture.
                                </p>
                                <p>
                                    <strong>returns:</strong> your ShaderPass object, allowing it to be chainable.
                                </p>
                                <p class="api-item-examples">
                                    <strong>Examples:</strong> used in <a href="examples/post-processing-displacement/index.html" title="Post processing displacement effect" target="_blank">Post processing displacement effect</a> example.
                                </p>
                            </li>
                            <li id="on-ready">
                                <p>
                                    <strong>onReady</strong>(): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function will be called once our shader pass is all set up and ready to be drawn.<br />
                                </p>
                                <p>
                                    <strong>returns:</strong> your ShaderPass object, allowing it to be chainable.
                                </p>
                                <p class="api-item-examples">
                                    <strong>Examples:</strong> used in <a href="examples/post-processing-displacement/index.html" title="Post processing displacement effect" target="_blank">Post processing displacement effect</a> example.
                                </p>
                            </li>
                            <li id="on-render">
                                <p>
                                    <strong>onRender</strong>(): <span class="api-item-version">v3.0</span>
                                </p>
                                <p>
                                    This function will be triggered for each shader pass at each requestAnimationFrame call. Useful to update a time uniform.
                                </p>
                                <p>
                                    <strong>returns:</strong> your ShaderPass object, allowing it to be chainable.
                                </p>
                                <p class="api-item-examples">
                                    <strong>Examples:</strong> used in <a href="examples/post-processing-displacement/index.html" title="Post processing displacement effect" target="_blank">Post processing displacement effect</a> and <a href="examples/post-processing-scroll-effect/index.html" title="Post processing multiple passes" target="_blank">Post processing multiple passes</a> examples.
                                </p>
                            </li>

                        </ul>
                    </div>
                </div>

            </div>

        </section>
    </div>
</div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-141413267-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-141413267-1');
</script>

</body>
</html>