<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">


    <!-- Metas -->
    <title>curtains.js | Documentation | Texture class</title>
    <meta name="description" content="curtains.js is a lightweight vanilla WebGL javascript library that turns HTML elements into interactive textured planes.">
    <link rel="canonical" href="https://www.curtainsjs.com/texture-class.html">

    <!-- Facebook OG -->
    <meta property="og:title" content="curtains.js | Documentation | Texture class">
    <meta property="og:type" content="website">
    <meta property="og:description" content="curtains.js is a lightweight vanilla WebGL javascript library that turns HTML elements into interactive textured planes.">
    <meta property="og:url" content="https://www.curtainsjs.com/texture-class.html">
    <meta property="og:image" content="https://www.curtainsjs.com/images/curtains-js-logo.jpg">

    <!-- Twitter card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@webdesign_ml">
    <meta name="twitter:creator" content="@webdesign_ml">
    <meta name="twitter:title" content="curtains.js | Documentation | Texture class">
    <meta name="twitter:description" content="curtains.js is a lightweight vanilla WebGL javascript library that turns HTML elements into interactive textured planes.">
    <meta name="twitter:image" content="https://www.curtainsjs.com/images/curtains-js-logo.jpg">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicons/favicon-16x16.png">
    <link rel="manifest" href="images/favicons/site.webmanifest">
    <link rel="mask-icon" href="images/favicons/safari-pinned-tab.svg" color="#202340">
    <link rel="shortcut icon" href="images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#202340">
    <meta name="msapplication-config" content="images/favicons/browserconfig.xml">
    <meta name="theme-color" content="#202340">

    <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Abril+Fatface" rel="stylesheet">
    <link rel="stylesheet" href="style.css" type="text/css">
</head>
<body>
<div id="page-wrap">

    <div id="canvas"></div>

    <div id="content">

        <header id="header">
            <div class="wrapper">
                <div id="header-wrapper" class="flex-wrapper">
                    <div id="header-title">
                        <a href="/" title="Home">curtains.js</a>
                    </div>
                    <nav id="main-menu">
                        <ul class="flex-wrapper">
                            <li>
                                <a href="get-started.html">Get started</a>
                            </li>
                            <li>
                                <a href="documentation.html" class="active">Docs</a>
                            </li>
                            <li>
                                <a href="download.html">Download</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>

        <section class="content-section api-section">

            <nav id="api-menu-nav">
                <ul id="api-menu">
                    <li>
                        <div class="api-menu-top-link">
                            <a href="curtains-class.html">Curtains</a>
                        </div>

                        <div class="api-submenu-content">
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#basic-usage">Basic usage</a>
                            </div>
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#properties">Properties</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="curtains-class.html#container">container</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#gl-canvas">glCanvas</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#gl-context">glContext</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#pixel-ratio">pixelRatio</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#planes">planes</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#production-mode">productionMode</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#methods">Methods</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="curtains-class.html#add-plane">addPlane</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#disable-drawing">disableDrawing</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#dispose">dispose</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#enable-drawing">enableDrawing</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#need-render">needRender</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#remove-plane">removePlane</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#resize">resize</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#restore-context">restoreContext</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#set-pixel-ratio">setPixelRatio</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#events">Events</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="curtains-class.html#on-context-lost">onContextLost</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#on-context-restored">onContextRestored</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#on-error">onError</a>
                                </li>
                                <li>
                                    <a href="curtains-class.html#on-render">onRender</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <div class="api-menu-top-link">
                            <a href="plane-class.html">Plane</a>
                        </div>

                        <div class="api-submenu-content">
                            <div class="api-submenu-title">
                                <a href="plane-class.html#basic-usage">Basic usage</a>
                            </div>
                            <div class="api-submenu-title">
                                <a href="plane-class.html#properties">Properties</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="plane-class.html#always-draw">alwaysDraw</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#autoload-sources">autoloadSources</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#canvases">canvases</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#cross-origin">crossOrigin</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#html-element">htmlElement</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#image-cover">imageCover</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#images">images</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#index">index</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#relative-translation">relativeTranslation</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#rotation">rotation</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#scale">scale</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#textures">textures</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#uniforms">uniforms</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#videos">videos</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="plane-class.html#methods">Methods</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="plane-class.html#create-texture">createTexture</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#enable-depth-test">enableDepthTest</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-canvas">loadCanvas</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-canvases">loadCanvases</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-image">loadImage</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-images">loadImages</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-source">loadSource</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-sources">loadSources</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-video">loadVideo</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#load-videos">loadVideos</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#mouse-to-plane-coords">mouseToPlaneCoords</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#move-to-front">moveToFront</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#plane-resize">planeResize</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#play-videos">playVideos</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-perspective">setPerspective</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-relative-position">setRelativePosition</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-rotation">setRotation</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#set-scale">setScale</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#update-position">updatePosition</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="curtains-class.html#events">Events</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="plane-class.html#on-re-enter-view">onReEnterView</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-leave-view">onLeaveView</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-loading">onLoading</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-ready">onReady</a>
                                </li>
                                <li>
                                    <a href="plane-class.html#on-render">onRender</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="active">
                        <div class="api-menu-top-link">
                            <a href="texture-class.html">Texture</a>
                        </div>
                        <div class="api-submenu-content">
                            <div class="api-submenu-title">
                                <a href="texture-class.html#basic-usage">Basic usage</a>
                            </div>
                            <div class="api-submenu-title">
                                <a href="texture-class.html#properties">Properties</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="texture-class.html#index">index</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#scale">scale</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#should-update">shouldUpdate</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#source">source</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#type">type</a>
                                </li>
                            </ul>
                            <div class="api-submenu-title">
                                <a href="texture-class.html#methods">Methods</a>
                            </div>
                            <ul class="api-submenu">
                                <li>
                                    <a href="texture-class.html#set-scale">setScale</a>
                                </li>
                                <li>
                                    <a href="texture-class.html#set-source">setSource</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>

            <div id="api-content">

                <div class="api-content-inner">
                    <div class="inner-section">
                        <h1>Texture class</h1>
                        <h2 id="basic-usage">Basic usage</h2>
                        <h3>Creation</h3>
                        <p>
                            Textures are automatically created each time one of the plane <a href="plane-class.html#load-canvas">loading methods</a> is called.<br />
                            If your plane <a href="plane-class.html#autoload-sources">autoloadSources</a> initial parameter is set to true, they will be created on initialization for each image, canvas or video children of your plane.
                        </p>
                        <p>
                            To create a new texture, you should use the <a href="plane-class.html#create-texture">createTexture</a> method of your <a href="plane-class.html">Plane</a> class object.
                        </p>
                        <p>
                        <pre>
<code>
// "canvas" is the ID of our HTML container element
var curtains = new Curtains("canvas");

var planeElement = document.getElementById("my-plane");

var plane = curtains.addPlane(planeElement);

// if out plane has been successfully created
if(plane) {
    // "myTexture" will be used as a sampler name in your fragment shader
    // a uniform mat4 "myTextureMatrix" handling your texture matrix will also be created
    var myTexture = plane.createTexture("myTexture");
}
</code>
								</pre>
                        </p>
                        <p>
                            A newly created texture will just display black pixels until you've <a href="texture-class.html#set-source">set it a source</a> from one of the images, canvases or videos already loaded in your plane.
                        </p>
                        <h3 id="texture-matrix">Using texture matrices</h3>
                        <p>
                            Shaders use texture coordinates (or UVs) to map a texture to the plane.<br />
                            By default the library sets an arbitrary aTextureCoord attributes that you could use in your shaders:
                        </p>
                        <p>
                        <pre>
<code>
&lt;!-- vertex shader --&gt;
&lt;script id="plane-vs" type="x-shader/x-vertex"&gt;
    #ifdef GL_ES
    precision mediump float;
    #endif

    // those are the mandatory attributes that the lib sets
    attribute vec3 aVertexPosition;
    attribute vec2 aTextureCoord;

    // those are mandatory uniforms that the lib sets and that contain our model view and projection matrix
    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;

    // if you want to pass your vertex and texture coords to the fragment shader
    varying vec3 vVertexPosition;
    varying vec2 vTextureCoord;

    void main() {
        vec3 vertexPosition = aVertexPosition;

        gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);

        // set the varyings
        // use our aTextureCoord attributes as texture coords in our fragment shader
        vTextureCoord = aTextureCoord;
        vVertexPosition = vertexPosition;
    }
&lt;/script&gt;

&lt;!-- fragment shader --&gt;
&lt;script id="plane-fs" type="x-shader/x-fragment"&gt;
    #ifdef GL_ES
    precision mediump float;
    #endif

    // get our varyings
    varying vec3 vVertexPosition;
    varying vec2 vTextureCoord;

    // our texture sampler (default sampler name)
    uniform sampler2D uSampler0;

    void main() {
        // map our texture with the original texture coords
        gl_FragColor = texture2D(uSampler0, vTextureCoord);
    }
&lt;/script&gt;
</code>
								</pre>
                        </p>


                        <p>
                            You may use it to map your texture to your plane, but if the plane and the media aspect ratio are different, <strong>you'll end up with a distorted texture</strong>.
                        </p>
                        <p>
                            Fortunately, there's a built-in solution to display your textures without them being distorted: texture matrices. Each time you set a source to a texture (or each time a plane is resized), its texture matrix is automatically computed and sent to your shader as a uniform. With the same example as above, here's how to use it:
                        </p>
                        <p>
                        <pre>
<code>
&lt;!-- vertex shader --&gt;
&lt;script id="plane-vs" type="x-shader/x-vertex"&gt;
    #ifdef GL_ES
    precision mediump float;
    #endif

    // those are the mandatory attributes that the lib sets
    attribute vec3 aVertexPosition;
    attribute vec2 aTextureCoord;

    // those are mandatory uniforms that the lib sets and that contain our model view and projection matrix
    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;

    // our texture matrix that will handle image cover
    uniform mat4 uTextureMatrix0;

    // if you want to pass your vertex and texture coords to the fragment shader
    varying vec3 vVertexPosition;
    varying vec2 vTextureCoord;

    void main() {
        vec3 vertexPosition = aVertexPosition;

        gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);

        // set the varyings
        // here we use our texture matrix to calculate the accurate texture coords
        vTextureCoord = (uTextureMatrix0 * vec4(aTextureCoord, 0.0, 1.0)).xy;
        vVertexPosition = vertexPosition;
    }
&lt;/script&gt;

&lt;!-- fragment shader --&gt;
&lt;script id="plane-fs" type="x-shader/x-fragment"&gt;
    #ifdef GL_ES
    precision mediump float;
    #endif

    // get our varyings
    varying vec3 vVertexPosition;
    varying vec2 vTextureCoord;

    // our texture sampler (default sampler name)
    uniform sampler2D uSampler0;

    void main() {
        // map our texture with the texture matrix coords
        gl_FragColor = texture2D(uSampler0, vTextureCoord);
    }
&lt;/script&gt;
</code>
								</pre>
                        </p>
                        <p>
                            The texture matrix uniform name will follow the same rule as the sampler uniform name:<br />
                            If you did not specify any name, it will be named "uTextureMatrix" + your texture index.<br />
                            If you did specify a sampler name, it will be named samplerName + "Matrix".
                        </p>

                        <h2 id="methods">Properties</h2>
                        <ul>
                            <li id="index">
                                <p>
                                    <strong>index</strong>(integer): <span class="api-item-version">v2.0</span>
                                </p>
                                <p>
                                    The index of your texture in the <a href="plane-class.html#textures">Plane textures array</a>.
                                </p>
                            </li>
                            <li id="scale">
                                <p>
                                    <strong>scale</strong>(object): <span class="api-item-version">v2.0</span>
                                </p>
                                <p>
                                    An object containing the scale applied to your texture on x and y axis. Only applied if you are using the texture matrix to map your texture in your shaders.
                                </p>
                            </li>
                            <li id="should-update">
                                <p>
                                    <strong>shouldUpdate</strong>(boolean): <span class="api-item-version">v2.0</span>
                                </p>
                                <p>
                                    Depends on your texture <a href="texture-class.html#type">type</a>.<br />
                                    By default, a canvas texture will be updated at each requestAnimationFrame call, a video  texture will be updated at 30FPS, and an image texture will never be updated.<br />
                                    If you want to stop updating your canvas or video texture, set this flag to false for performance boost.
                                </p>
                            </li>
                            <li id="source">
                                <p>
                                    <strong>source</strong>(HTML element): <span class="api-item-version">v2.0</span>
                                </p>
                                <p>
                                    The source used by your texture. Could be either an image, canvas or video HTML element.
                                </p>
                            </li>
                            <li id="type">
                                <p>
                                    <strong>type</strong>(string): <span class="api-item-version">v2.0</span>
                                </p>
                                <p>
                                    The type or your texture. Could be either "image", "canvas" or "video".
                                </p>
                            </li>
                        </ul>

                        <h2 id="methods">Methods</h2>
                        <ul>
                            <li id="set-source">
                                <p>
                                    <strong>setSource</strong>(sourceElement): <span class="api-item-version">v2.0</span>
                                </p>
                                <p>
                                    Use this method to set a source to your texture. The source must be already loaded in your plane, otherwise use one of the <a href="plane-class.html#load-canvas">load method of your Plane class</a>.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            sourceElement
                                        </span>
                                        <span class="api-item-parameter-type">
                                            either an image, canvas or video HTML element
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            a source to apply to your texture. It must be an element already loaded by your plane.
                                        </span>
                                    </li>
                                </ul>
                                <p class="api-item-examples">
                                    <strong>Examples:</strong> used in <a href="examples/multiple-textures/index.html" title="Slideshow with a displacement shader" target="_blank">Slideshow with a displacement shader</a> example.
                                </p>
                            </li>

                            <li id="set-scale">
                                <p>
                                    <strong>setScale</strong>(scaleX, scaleY): <span class="api-item-version">v2.0</span>
                                </p>
                                <p>
                                    Set the texture new scale. Only applied if you are using the texture matrix to map your texture in your shaders.
                                </p>
                                <ul class="api-item-parameters">
                                    <li>
                                        <span class="api-item-parameter-label">
                                            scaleX
                                        </span>
                                        <span class="api-item-parameter-type">
                                            float
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            the scale to set along the X axis.
                                        </span>
                                    </li>
                                    <li>
                                        <span class="api-item-parameter-label">
                                            scaleY
                                        </span>
                                        <span class="api-item-parameter-type">
                                            float
                                        </span>
                                        <span class="api-item-parameter-desc">
                                            the scale to set along the Y axis.
                                        </span>
                                    </li>
                                </ul>
                                <p class="api-item-examples">
                                    <strong>Examples:</strong> used in <a href="examples/multiple-planes-scroll-effect/index.html" title="Multiple planes scroll effect : rotation, scale and parallax" target="_blank">Multiple planes scroll effect : rotation, scale and parallax</a> example.
                                </p>
                            </li>

                        </ul>
                    </div>
                </div>

            </div>

        </section>
    </div>
</div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-141413267-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-141413267-1');
</script>

</body>
</html>