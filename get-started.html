<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<!-- Metas -->
		<title>curtains.js | Get Started</title>
	    <meta name="description" content="curtains.js is a lightweight vanilla WebGL javascript library that turns HTML elements into interactive textured planes.">
	    <link rel="canonical" href="https://www.curtainsjs.com/get-started.html">

	    <!-- Facebook OG -->
	    <meta property="og:title" content="curtains.js | Get Started">
	    <meta property="og:type" content="website">
	    <meta property="og:description" content="curtains.js is a lightweight vanilla WebGL javascript library that turns HTML elements into interactive textured planes.">
	    <meta property="og:url" content="https://www.curtainsjs.com/get-started.html">
	    <meta property="og:image" content="https://www.curtainsjs.com/images/curtains-js-logo.jpg">

	    <!-- Twitter card -->
	    <meta name="twitter:card" content="summary_large_image">
	    <meta name="twitter:site" content="@webdesign_ml">
		<meta name="twitter:creator" content="@webdesign_ml">
		<meta name="twitter:title" content="curtains.js | Get Started">
		<meta name="twitter:description" content="curtains.js is a lightweight vanilla WebGL javascript library that turns HTML elements into interactive textured planes.">
		<meta name="twitter:image" content="https://www.curtainsjs.com/images/curtains-js-logo.jpg">

		<!-- Favicon -->
		<link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="images/favicons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="images/favicons/favicon-16x16.png">
		<link rel="manifest" href="images/favicons/site.webmanifest">
		<link rel="mask-icon" href="images/favicons/safari-pinned-tab.svg" color="#202340">
		<link rel="shortcut icon" href="images/favicons/favicon.ico">
		<meta name="msapplication-TileColor" content="#202340">
		<meta name="msapplication-config" content="images/favicons/browserconfig.xml">
		<meta name="theme-color" content="#202340">

		<link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Abril+Fatface" rel="stylesheet">
		<link rel="stylesheet" href="style.css" type="text/css">
	</head>
	<body>
        <div id="page-wrap">

			<div id="canvas"></div>

			<div id="content">

				<header id="header">
					<div class="wrapper">
						<div id="header-wrapper" class="flex-wrapper">
							<div id="header-title">
								<a href="/" title="Home">curtains.js</a>
							</div>
							<nav id="main-menu">
								<ul class="flex-wrapper">
									<li>
										<a href="get-started.html" class="active">Get started</a>
									</li>
									<li>
										<a href="documentation.html">Docs</a>
									</li>
									<li>
										<a href="download.html">Download</a>
									</li>
								</ul>
							</nav>
						</div>
					</div>
				</header>

				<section class="content-section">
					<div class="wrapper">

						<div class="text-section inner-section">
							<h1>Get started</h1>
						</div>

						<nav class="text-section inner-section">
							<ol>
								<li>
									<a href="#basic-setup" title="Basic setup example">Basic setup example</a>
								</li>
								<li>
									<a href="#image-uniform-sampler" title="Textures uniform sampler names">Textures uniform sampler names</a>
								</li>
								<li>
									<a href="#videos-textures" title="Videos as textures">Videos as textures</a>
								</li>
								<li>
									<a href="#canvases-textures" title="Canvas as texture">Canvas as texture</a>
								</li>
								<li>
									<a href="#performance-tips" title="Performance tips">Performance tips</a>
								</li>
								<li>
									<a href="#useful-examples" title="Useful examples">Useful examples</a>
								</li>
							</ol>
						</nav>

						<div id="basic-setup" class="text-section inner-section">
							<h2>Basic setup example</h2>
							<div id="basic-example">
								<img src="examples/medias/plane-texture-3.jpg" alt="Basic example image" />
							</div>
							<p>
								<a href="examples/basic-plane/index.html" title="Open it in a new tab" target="_blank">Open it in a new tab</a>
							</p>
							<h3>HTML</h3>
							<p>
								The HTML set up is pretty easy. Just create a div that will hold your canvas and a div that will hold your images.
							</p>
							<p>
								<pre>
<code>
&lt;body&gt;

    &lt;!-- div that will hold our WebGL canvas --&gt;
    &lt;div id="canvas"&gt;&lt;/div&gt;

    &lt;!-- div used to create our plane --&gt;
    &lt;div class="plane"&gt;

        &lt;!-- image that will be used as texture by our plane --&gt;
        &lt;img src="path/to/my-image.jpg" /&gt;
    &lt;/div&gt;

&lt;/body&gt;
</code>
								</pre>
							</p>
							<h3>CSS</h3>
							<p>
								The CSS is also very easy. Make sure the div that will wrap the canvas fits the document, and apply any size you want to your plane div element.
							</p>
							<p>
								<pre>
<code>
body {
    /* make the body fits our viewport */
    position: relative;
    width: 100%;
    height: 100vh;
    margin: 0;
    overflow: hidden;
}

#canvas {
    /* make the canvas wrapper fits the document */
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
}

.plane {
    /* define the size of your plane */
    width: 80%;
    height: 80vh;
    margin: 10vh auto;
}

.plane img {
    /* hide the img element */
    display: none;
}
</code>
								</pre>
							</p>
							<h3>Javascript</h3>
							<p>
								There's a bit more work in the javascript part : we need to instanciate our WebGL context, create a plane with basic uniforms parameters and use it.
							</p>
							<p>
								<pre>
<code>
window.onload = function() {
    // get our canvas wrapper
    var canvasContainer = document.getElementById("canvas");

    // set up our WebGL context and append the canvas to our wrapper
    var webGLCurtain = new Curtains("canvas");

    // get our plane element
    var planeElement = document.getElementsByClassName("plane")[0];

    // set our initial parameters (basic uniforms)
    var params = {
        vertexShaderID: "plane-vs", // our vertex shader ID
        fragmentShaderID: "plane-fs", // our framgent shader ID
        uniforms: {
            time: {
                name: "uTime", // uniform name that will be passed to our shaders
                type: "1f", // this means our uniform is a float
                value: 0,
            },
        }
    }

    // create our plane mesh
    var plane = webGLCurtain.addPlane(planeElement, params);

    // use the onRender method of our plane fired at each requestAnimationFrame call
    plane.onRender(function() {
        plane.uniforms.time.value++; // update our time uniform value
    });

}
</code>
								</pre>
							</p>
							<h3>Shaders</h3>
							<p>
								Here are some basic vertex and fragment shaders. Just put it inside your body tag, right before you include the library.
							</p>
							<p>
								<pre>
<code>
&lt;!-- vertex shader --&gt;
&lt;script id="plane-vs" type="x-shader/x-vertex"&gt;
    #ifdef GL_ES
    precision mediump float;
    #endif

    // those are the mandatory attributes that the lib sets
    attribute vec3 aVertexPosition;
    attribute vec2 aTextureCoord;

    // those are mandatory uniforms that the lib sets and that contain our model view and projection matrix
    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;

    // our texture matrix that will handle image cover
    uniform mat4 uTextureMatrix0;

    // if you want to pass your vertex and texture coords to the fragment shader
    varying vec3 vVertexPosition;
    varying vec2 vTextureCoord;

    void main() {
        vec3 vertexPosition = aVertexPosition;

        gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);

        // set the varyings
        // here we use our texture matrix to calculate the accurate texture coords
        vTextureCoord = (uTextureMatrix0 * vec4(aTextureCoord, 0.0, 1.0)).xy;
        vVertexPosition = vertexPosition;
    }
&lt;/script&gt;

&lt;!-- fragment shader --&gt;
&lt;script id="plane-fs" type="x-shader/x-fragment"&gt;
    #ifdef GL_ES
    precision mediump float;
    #endif

    // get our varyings
    varying vec3 vVertexPosition;
    varying vec2 vTextureCoord;

    // the uniform we declared inside our javascript
    uniform float uTime;

    // our texture sampler (default name, to use a different name please refer to the documentation)
    uniform sampler2D uSampler0;

    void main() {
        vec2 textureCoord = vec2(vTextureCoord.x, vTextureCoord.y);

        // displace our pixels along the X axis based on our time uniform
        // textures coords are ranging from 0.0 to 1.0 on both axis
        textureCoord.x += sin(textureCoord.y * 25.0) * cos(textureCoord.x * 25.0) * (cos(uTime / 50.0)) / 25.0;

        gl_FragColor = texture2D(uSampler0, textureCoord);
    }
&lt;/script&gt;
</code>
								</pre>
							</p>
							<p>
								Et voil√† !
							</p>
						</div>
						<div id="images-uniforms-samplers" class="text-section inner-section">
							<h2>Textures uniforms matrices and sampler names</h2>
							<p>
								Let's say you want to build a slideshow with 3 images and a displacement image to create a nice transition effect.<br />
								By default, the textures uniforms matrices and sampler will be named upon their indexes inside your plane element. If you got something like that :
							</p>
							<p>
								<pre>
<code>
&lt;!-- div used to create our plane --&gt;
&lt;div class="plane"&gt;

    &lt;!-- images that will be used as textures by our plane --&gt;
    &lt;img src="path/to/displacement.jpg" /&gt;
    &lt;img src="path/to/my-image-1.jpg" /&gt;
    &lt;img src="path/to/my-image-2.jpg" /&gt;
    &lt;img src="path/to/my-image-3.jpg" /&gt;

&lt;/div&gt;
</code>
								</pre>
							</p>
							<p>
								Then, in your shaders, your textures matrices and samplers would have to be declared that way :
							</p>
							<p>
								<pre>
<code>
// use this in your vertex shader
uniform mat4 uTextureMatrix0 // texture matrix of displacement.jpg
uniform mat4 uTextureMatrix1 // texture matrix of my-image-1.jpg
uniform mat4 uTextureMatrix2 // texture matrix of my-image-2.jpg
uniform mat4 uTextureMatrix3 // texture matrix of my-image-3.jpg

...

// use this in your fragment shader
uniform sampler2D uSampler0 // bound to displacement.jpg
uniform sampler2D uSampler1 // bound to my-image-1.jpg
uniform sampler2D uSampler2 // bound to my-image-2.jpg
uniform sampler2D uSampler3 // bound to my-image-3.jpg
</code>
								</pre>
							</p>
							<p>
								It is handy but you could also get easily confused.<br />
								By using a data-sampler attribute on the &lt;img /&gt; tag, you could specify custom uniforms matrices and samplers names to use in your shaders. With the example above, this would become :
							</p>
							<p>
								<pre>
<code>
&lt;!-- div used to create our plane --&gt;
&lt;div class="plane"&gt;

    &lt;!-- images that will be used as textures by our plane --&gt;
    &lt;img src="path/to/displacement.jpg" data-sampler="uDisplacement" /&gt;
    &lt;img src="path/to/my-image-1.jpg" data-sampler="uSlide1" /&gt;
    &lt;img src="path/to/my-image-2.jpg" data-sampler="uSlide2" /&gt;
    &lt;img src="path/to/my-image-3.jpg" data-sampler="uLastSlide" /&gt;

&lt;/div&gt;
</code>
								</pre>
							</p>
							<p>
								<pre>
<code>
// use this in your vertex shader
uniform mat4 uDisplacementTextureMatrix // texture matrix of displacement.jpg
uniform mat4 uSlide1TextureMatrix       // texture matrix of my-image-1.jpg
uniform mat4 uSlide1TextureMatrix       // texture matrix of my-image-2.jpg
uniform mat4 uLastSlideTextureMatrix    // texture matrix of my-image-3.jpg

...

// use this in your fragment shader
uniform sampler2D uDisplacement // bound to displacement.jpg
uniform sampler2D uSlide1       // bound to my-image-1.jpg
uniform sampler2D uSlide1       // bound to my-image-2.jpg
uniform sampler2D uLastSlide    // bound to my-image-3.jpg
</code>
							</pre>
						</div>

						<div id="videos-textures" class="text-section inner-section">
							<h2>Using videos as textures</h2>
							<p>
								Yes, videos as textures are supported ! However there are a few downsides you need to know.<br />
								<strong>First, we can't autoplay videos without a user gesture on most mobile devices</strong>. Unless you don't care about mobile users, you will have to start the videos playback after a user interaction like a click event.<br />
								Also, please note that videos tend to use a lot of memory and <strong>could have a significant impact on performance</strong>, so try to keep them small.<br />
								Besides that, videos are really easy to use (and can be mixed with images as well). Let's see how we can handle them :
							</p>
							<h3>HTML</h3>
							<p>
								<pre>
<code>
&lt;!-- div used to create our plane --&gt;
&lt;div class="plane"&gt;

    &lt;!-- video that will be used as a texture by our plane --&gt;
    &lt;video src="path/to/my-video.mp4"&gt;&lt;/video&gt;

&lt;/div&gt;
</code>
								</pre>
							</p>
							<p>
								Like with images, you can use a data-sampler attribute to set a uniform sampler name. You can use one or more videos, or mixed them with images if you want :
							</p>
							<p>
								<pre>
<code>
&lt;!-- div used to create our plane --&gt;
&lt;div class="plane"&gt;

    &lt;!-- elements that will be used as textures by our plane --&gt;
    &lt;img src="path/to/displacement.jpg" data-sampler="displacement" /&gt;
    &lt;video src="path/to/my-video-1.mp4" data-sampler="firstVideo"&gt;&lt;/video&gt;
    &lt;video src="path/to/my-video-2.mp4" data-sampler="secondVideo"&gt;&lt;/video&gt;

&lt;/div&gt;
</code>
								</pre>
							</p>
							<h3>Javascript</h3>
							<p>
								There's only one change inside our javascript : we need to tell our plane when to start playing the videos. We've got a <a href="plane-class.html#play-videos">playVideos</a> method that we will put inside an event listener in our <a href="plane-class.html#on-ready">onReady</a> method :
							</p>
							<p>
								<pre>
<code>
window.onload = function() {
    // get our canvas wrapper
    var canvasContainer = document.getElementById("canvas");

    // set up our WebGL context and append the canvas to our wrapper
    var webGLCurtain = new Curtains("canvas");

    // get our plane element
    var planeElement = document.getElementsByClassName("plane")[0];

    // set our initial parameters (basic uniforms)
    var params = {
        vertexShaderID: "plane-vs", // our vertex shader ID
        fragmentShaderID: "plane-fs", // our framgent shader ID
        uniforms: {
            time: {
                name: "uTime", // uniform name that will be passed to our shaders
                type: "1f", // this means our uniform is a float
                value: 0,
            },
        }
    }

    // create our plane mesh
    var plane = webGLCurtain.addPlane(planeElement, params);

    plane.onReady(function() {

        // set an event listener to start our playback
        document.getElementbyId("start-playing").addEventListener("click", function() {
            plane.playVideos();
        });

    }).onRender(function() {

        // use the onRender method of our plane fired at each requestAnimationFrame call
        plane.uniforms.time.value++; // update our time uniform value
    });

}
</code>
								</pre>
							</p>
							<p>
								And that's it. Check the video examples (and source codes) if you want to see what's possible.
							</p>
						</div>

						<div id="canvases-textures" class="text-section inner-section">
							<h2>Using canvas as texture</h2>
							<p>
								Last but not least, you can use a canvas as a texture. It is once again really easy to use. You just have to insert a canvas tag inside your HTML, or eventually create it in your javascript and load it using the <a href="plane-class.html#load-canvas">loadCanvas</a> method.
							</p>
							<h3>HTML</h3>
							<p>
								<pre>
<code>
&lt;!-- div used to create our plane --&gt;
&lt;div class="plane"&gt;

    &lt;!-- canvas that will be used as a texture by our plane --&gt;
    &lt;canvas id="canvas-texture"&gt;&lt;/canvas&gt;

&lt;/div&gt;
</code>
								</pre>
							</p>
							<p>
								You can use multiple canvases and data-sampler attributes as well, like you'd do with images or videos.
							</p>
							<h3>Javascript</h3>
							<p>
								The javascript code remains almost the same. We just set the size of our canvas, get its context and draw a simple rotating red rectangle inside our animation loop.
							</p>
							<p>
								<pre>
<code>
window.onload = function() {
    // get our canvas wrapper
    var canvasContainer = document.getElementById("canvas");

    // set up our WebGL context and append the canvas to our wrapper
    var webGLCurtain = new Curtains("canvas");

    // get our plane element
    var planeElement = document.getElementsByClassName("plane")[0];

    // set our initial parameters (basic uniforms)
    var params = {
        vertexShaderID: "plane-vs", // our vertex shader ID
        fragmentShaderID: "plane-fs", // our framgent shader ID
        uniforms: {
            time: {
                name: "uTime", // uniform name that will be passed to our shaders
                type: "1f", // this means our uniform is a float
                value: 0,
            },
        }
    }

    // create our plane mesh
    var plane = webGLCurtain.addPlane(planeElement, params);

    // our texture canvas
    var textureCanvas = document.getElementById("canvas-texture");
    var textureCanvasContext = textureCanvas.getContext("2d");

    // set the size of our canvas
    textureCanvas.width = planeElements[0].clientWidth;
    textureCanvas.height = planeElements[0].clientHeight;

    // use the onRender method of our plane fired at each requestAnimationFrame call
    plane.onRender(function() {
        plane.uniforms.time.value++; // update our time uniform value

        // here we will handle our canvas texture animation
        // clear scene
        textureCanvasContext.clearRect(0, 0, textureCanvas.width, textureCanvas.height);

        // continuously rotate the canvas
        textureCanvasContext.translate(textureCanvas.width / 2, textureCanvas.height / 2);
        textureCanvasContext.rotate(Math.PI / 360);
        textureCanvasContext.translate(-textureCanvas.width / 2, -textureCanvas.height / 2);

        // draw a red rectangle
        textureCanvasContext.fillStyle = "#ff0000";
        textureCanvasContext.fillRect(textureCanvas.width / 2 - textureCanvas.width / 8, textureCanvas.height / 2 - textureCanvas.height / 8, textureCanvas.width / 4, textureCanvas.height / 4);
    });

}
</code>
								</pre>
							</p>
						</div>

						<div id="performance-tips" class="text-section inner-section">
							<h2>Performance tips</h2>
							<ul>
								<li>
									Plane's canvases textures are updated at each frame (videos are updated at 30FPS), which has a significant impact on performance. When those textures are not visible (if they are hidden by another texture, or if you have finished drawing on your canvas...), you should set those <a href="texture-class.html#should-update">textures shouldUpdate property</a> to false, and switch it back to true before displaying them again.
								</li>
								<li>
									Large images have a bigger impact on performance. Try to scale your images so they will fit your plane maximum size. It goes the same for videos of course: try to keep them as light as possible.
								</li>
								<li>
							        Try to use as less javascript as possible in the onRender() methods as this get executed at each draw call.
							    </li>
							</ul>
						</div>
						<div id="useful-examples" class="text-section inner-section">
							<h2>Useful examples</h2>
							<p>
								Check their source code :
							</p>
							<h3>Images</h3>
							<p>
								<a href="examples/vertex-coords-helper/index.html" title="Vertex coordinates helper" target="_blank">Vertex coordinates helper</a><br />
								<a href="examples/simple-plane/index.html" title="Simple plane" target="_blank">Simple plane</a><br />
								<a href="examples/multiple-textures/index.html" title="Slideshow with a displacement shader" target="_blank">Slideshow with a displacement shader</a><br />
								<a href="examples/multiple-planes/index.html" title="Multiple planes" target="_blank">Multiple planes</a><br />
								<a href="examples/multiple-planes-scroll-effect/index.html" title="Multiple planes scroll effect : rotation, scale and parallax" target="_blank">Multiple planes scroll effect : rotation, scale and parallax</a><br />
								<a href="examples/asynchronous-textures/index.html" title="Asynchronous textures loading" target="_blank">Asynchronous textures loading</a><br />
								<a href="examples/ajax-navigation-with-plane-removal/index.html" title="AJAX navigation with plane removal" target="_blank">AJAX navigation with plane removal</a><br />
							</p>
							<h3>Videos</h3>
							<p>
								<a href="examples/simple-video-plane/index.html" title="Simple video plane" target="_blank">Simple video plane</a><br />
								<a href="examples/multiple-video-textures/index.html" title="Multiple video textures" target="_blank">Multiple video textures with a displacement shader</a><br />
							</p>
							<h3>Canvas</h3>
							<p>
								<a href="examples/simple-canvas-plane/index.html" title="Simple canvas plane" target="_blank">Simple canvas plane</a><br />
								<a href="examples/multiple-planes-canvas-text/index.html" title="Text planes using canvas" target="_blank">Text planes using canvas</a>
							</p>
						</div>

					</div>
				</section>
			</div>
		</div>


		<script id="basic-plane-vs" type="x-shader/x-vertex">
			#ifdef GL_ES
			precision mediump float;
			#endif

			// those are the mandatory attributes that the lib sets
			attribute vec3 aVertexPosition;
			attribute vec2 aTextureCoord;

			// those are mandatory uniforms that the lib sets and that contain our model view and projection matrix
			uniform mat4 uMVMatrix;
			uniform mat4 uPMatrix;

			// our texture matrix that will handle image cover
			uniform mat4 uTextureMatrix0;

			// if you want to pass your vertex and texture coords to the fragment shader
			varying vec3 vVertexPosition;
			varying vec2 vTextureCoord;

			void main() {
				vec3 vertexPosition = aVertexPosition;

				gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);

				// set the varyings
				// here we use our texture matrix to calculate te accurate texture coords
				vTextureCoord = (uTextureMatrix0 * vec4(aTextureCoord, 0.0, 1.0)).xy;
				vVertexPosition = vertexPosition;
			}
        </script>
		<script id="basic-plane-fs" type="x-shader/x-fragment">
			#ifdef GL_ES
			precision mediump float;
			#endif

			// get our varyings
			varying vec3 vVertexPosition;
			varying vec2 vTextureCoord;

			// the uniform we declared inside our javascript
			uniform float uTime;

			// our texture sampler (default name, to use a different name please refer to the documentation)
			uniform sampler2D uSampler0;

			void main() {
				vec2 textureCoord = vec2(vTextureCoord.x, vTextureCoord.y);

				// displace our pixels along the X axis based on our time uniform
				// textures coords are ranging from 0.0 to 1.0 on both axis
				textureCoord.x += sin(textureCoord.y * 25.0) * cos(textureCoord.x * 25.0) * (cos(uTime / 50.0)) / 25.0;

				gl_FragColor = texture2D(uSampler0, textureCoord);
			}
        </script>

		<script src="build/curtains.js" type="text/javascript"></script>
		<script src="js/main.navigation.js" type="text/javascript"></script>

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-141413267-1"></script>
		<script>
		  	window.dataLayer = window.dataLayer || [];
		  	function gtag(){dataLayer.push(arguments);}
		  	gtag('js', new Date());

		  	gtag('config', 'UA-141413267-1');
		</script>

	</body>
</html>
